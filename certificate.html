<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">

  <!-- favicon -->
  <link rel="icon" type="image/svg+xml" href="img/favicon.svg">
  <link rel="icon" href="img/favicon.png" sizes="32x32" type="image/png">
  <link rel="apple-touch-icon" href="img/favicon.png">

  <title>–ü–æ–¥–∞—Ä–æ—á–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Fonts -->
  <link rel="preload" href="fonts/CeremoniousOne.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="fonts/Montserrat-Thin.woff2" as="font" type="font/woff2" crossorigin>

<style>
/* ================= –®–†–ò–§–¢–´ ================= */
@font-face {
  font-family: 'Ceremonious One';
  src: url('fonts/CeremoniousOne.woff2') format('woff2');
}
@font-face {
  font-family: 'Montserrat Thin';
  src: url('fonts/Montserrat-Thin.woff2') format('woff2');
  font-weight: 200;
}

/* ================= –ë–ê–ó–ê ================= */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  min-height: 100vh;
  font-family: 'Montserrat Thin', sans-serif;
  background: #000;
  color: #2e2e2e;
  overflow: hidden;
}

/* ================= –ó–í–Å–ó–î–´ ================= */
.stars, .twinkling {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
}

.stars {
  background: #000 url('img/stars.png') repeat;
}

.twinkling {
  background: url('img/twinkling.png') repeat;
  animation: twinkle 8s linear infinite;
}

@keyframes twinkle {
  from { background-position: 0 0; }
  to   { background-position: -300px 0; }
}

/* ================= –û–ë–Å–†–¢–ö–ê ================= */
.wrapper {
  position: relative;
  z-index: 2;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
}

/* ================= –ö–ê–†–¢–û–ß–ö–ê ================= */
.card {
  position: relative;
  background: rgba(255, 248, 240, 0.94);
  backdrop-filter: blur(14px);
  border-radius: 32px;
  padding: 42px 34px;
  max-width: 440px;
  width: 100%;
  text-align: center;

  /* –±–∞–∑–æ–≤–∞—è —Ä–∞–º–∫–∞ */
  /* box-shadow:
    0 0 0 1px rgba(255,220,180,.25),
    0 30px 90px rgba(0,0,0,.25); */
  box-shadow: 
    0 0 40px rgba(255, 220, 180, 0.45),
    0 0 80px rgba(255, 200, 150, 0.25);
}

/* ‚ú® –°–û–õ–ù–ï–ß–ù–û–ï –ú–ï–†–¶–ê–Æ–©–ï–ï –°–í–ï–ß–ï–ù–ò–ï –ü–û –ö–†–ê–Ø–ú */
.card::before {
  content: "";
  position: absolute;
  inset: -6px;
  border-radius: 38px;

  /* background: linear-gradient(45deg, rgba(255, 210, 160, .35), rgba(255, 245, 215, .65), rgba(255, 210, 160, .35)); */
  background:
    linear-gradient(
      120deg,
      rgba(255, 215, 160, .9),
      rgba(255, 235, 200, .6)
    );

  filter: blur(14px);
  opacity: .55;
  z-index: -1;

  animation: edgeGlow 7s ease-in-out infinite;
}

@keyframes edgeGlow {
  0% {
    opacity: .35;
    filter: blur(12px);
  }
  50% {
    opacity: .85;
    filter: blur(18px);
  }
  100% {
    opacity: .35;
    filter: blur(12px);
  }
}


/* ================= –¢–ï–ö–°–¢ ================= */
h1 {
  font-family: 'Ceremonious One', serif;
  font-size: 42px;
  font-weight: normal;
  margin-bottom: 8px;
}

h2 {
  font-size: 18px;
  font-weight: 200;
  margin-bottom: 20px;
}

.meta {
  font-size: 14px;
  opacity: .85;
  margin-bottom: 26px;
  line-height: 1.45;
}

/* ================= –ü–†–û–ì–†–ï–°–° ================= */
.progress {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 14px;
  justify-items: center;
  margin-bottom: 18px;
}

.heart {
  width: 42px;
  height: 42px;
  position: relative;
  cursor: pointer;
}

.heart img {
  width: 100%;
  height: 100%;
  display: block;
  filter: grayscale(1);
}

.heart.active img {
  filter: none;
}

.heart.active::after {
  content: "‚ù§";
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  color: #e43b3b;
}

.remaining {
  font-size: 14px;
  margin-bottom: 22px;
}

/* ================= –ö–ù–û–ü–ö–ò ================= */
.actions {
  display: flex;
  justify-content: center;
  gap: 14px;
}

button {
  padding: 12px 26px;
  border-radius: 24px;
  border: 1px solid rgba(0,0,0,0.15);
  background: white;
  cursor: pointer;
  font-family: inherit;
  font-size: 14px;
}

/* ================= PRINT ================= */
@media print {
  @page {
    size: A4;
    margin: 18mm;
  }

  body {
    background: black;
    overflow: visible;
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
  }

  .stars,
  .twinkling {
    position: fixed;
    inset: 0;
    display: block;
  }

  .wrapper {
    min-height: auto;
    padding: 0;
  }

  .card {
    box-shadow: none;
    border: 2px solid #e6d2b8;
    background: rgba(255,248,240,0.96);
  }

  button {
    display: none !important;
  }
}

</style>
</head>

<body>

<div class="stars"></div>
<div class="twinkling"></div>

<div class="wrapper">
  <div class="card">

    <h1>–ü–æ–¥–∞—Ä–æ—á–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç</h1>
    <h2>–ö—É—Ä—Å –º–∞—Å—Å–∞–∂–∞ —Å–ø–∏–Ω—ã (10 —Å–µ–∞–Ω—Å–æ–≤)</h2>

    <div class="meta">
      <b>–î–ª—è –¢–∞–Ω–µ—á–∫–∏ ü§ç</b><br>
      6 —è–Ω–≤–∞—Ä—è 2026 –≥–æ–¥–∞ ¬∑ ‚Ññ25
    </div>

    <div class="progress" id="progress"></div>
    <div class="remaining" id="remaining"></div>

    <div class="actions">
      <button id="backBtn">–ù–∞–∑–∞–¥</button>
      <button onclick="window.print()">–†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å</button>
    </div>

  </div>
</div>

<script>
/* ================= –ù–ê–°–¢–†–û–ô–ö–ò ================= */
const TOTAL = 10;
const KEY = 'massage-progress-v2';

/* ================= HAPTIC ================= */
function tap() {
  if (navigator.vibrate) navigator.vibrate(10);
}

/* ================= –ü–†–û–ì–†–ï–°–° ================= */
const progressEl = document.getElementById('progress');
const remainingEl = document.getElementById('remaining');
const backBtn = document.getElementById('backBtn');

let state = JSON.parse(localStorage.getItem(KEY));
if (!Array.isArray(state) || state.length !== TOTAL) {
  state = Array(TOTAL).fill(false);
  localStorage.setItem(KEY, JSON.stringify(state));
}

function render() {
  progressEl.innerHTML = '';
  state.forEach((done, i) => {
    const el = document.createElement('div');
    el.className = 'heart' + (done ? ' active' : '');
    el.innerHTML = '<img src="img/favicon.svg" alt="">';

    el.onclick = () => {
      tap();
      state[i] = !state[i];
      localStorage.setItem(KEY, JSON.stringify(state));
      render();
    };

    progressEl.appendChild(el);
  });

  const used = state.filter(Boolean).length;
  remainingEl.textContent = `–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ: ${used} ¬∑ –û—Å—Ç–∞–ª–æ—Å—å: ${TOTAL - used}`;
}

backBtn.onclick = () => {
  tap();
  if (history.length > 1) history.back();
  else location.href = 'index.html';
};

render();
</script>

</body>
</html>
